# ClutchReframe 域名 + 多站点架构方案

主品牌就用 ClutchReframe，然后把产品线名字固定为：

ClutchReframe Clips（中文意思：镜头重构高光片段）

ClutchReframe Live（中文意思：镜头重构直播版）

## Context

品牌从 RiftReframe 改为 ClutchReframe，产品线分 Clips（赛后高光）和 Live（直播运镜）2 个应用，均面向 LoL，需要 Riot 审核（每个应用需独立 riot.txt 验证）。需要一套域名架构支持 2 个应用并行推进，且 riot.txt 互不冲突。

## 架构

**1 个域名 + 2 个子域名（按产品线分）**

| 子域名 | 应用 | riot.txt |
|---|---|---|
| `clips.ClutchReframe.com` | ClutchReframe Clips (LoL) | Clips 的 UUID |
| `live.ClutchReframe.com` | ClutchReframe Live (LoL) | Live 的 UUID |

## 落地步骤

### 第 1 步：买域名
- 注册 `ClutchReframe.com`（Namecheap / Cloudflare，约 $10/年）

### 第 2 步：创建 2 个 GitHub 仓库
- `ClutchReframe/clips-website` — Clips 官网
- `ClutchReframe/live-website` — Live 官网
- 每个仓库开启 GitHub Pages

### 第 3 步：配置 DNS（在域名注册商处）
```
clips  CNAME  ClutchReframe.github.io
live   CNAME  ClutchReframe.github.io
```

> **注意事项**：
> - CNAME 目标必须是你的 GitHub **账号/组织**的 Pages 默认域名（`<账号名>.github.io`），不是某个仓库名。上例假设 GitHub 组织名为 `ClutchReframe`。
> - 如果用 **Cloudflare** 管 DNS，子域名记录先设为 **DNS only**（灰云 ☁️），**不要开代理**（橙云 🟠）。开代理会导致 GitHub Pages HTTPS 证书签发异常，也可能影响 Riot 抓取 `riot.txt` 的结果。等一切就绪后再视需要开启。
> - 审核期间不要对这两个子域名启用 Always Use HTTPS、Automatic HTTPS Rewrites、缓存规则等，避免与 GitHub Pages 自身 HTTPS 叠加产生跳转异常
> - CNAME 目标值最终以 GitHub Pages 设置页面中 DNS 校验提示的目标值为准

### 第 4 步：GitHub Pages 绑定自定义域名
- clips-website 仓库 → Settings → Pages → Custom domain → `clips.ClutchReframe.com`
- live-website 仓库 → Settings → Pages → Custom domain → `live.ClutchReframe.com`
- 两个都勾选 Enforce HTTPS

### 第 5 步：每个站点需要的页面
- `index.html` — 产品介绍 + 用途 + 下载/安装方式
- `privacy.html` — 隐私政策
- `terms.html` — 服务条款（Riot 审核要求）
- `riot.txt` — Riot 验证字符串（提交 Riot 审核后获得）
- OG 图片 + meta 标签（避免链接预览空白）

> **riot.txt 注意事项**：
> - 必须放在站点**根目录**，确保 `https://子域名/riot.txt` 直接返回纯文本
> - 内容必须是**单行纯 UUID**，前后无空格，无尾部换行符，无 `\r`，编辑器保存时注意检查；**无 BOM、无 HTML 包裹**，Content-Type 为 `text/plain`
> - 如果使用静态站点生成器（Hugo / Jekyll / Next.js 等），需确保 `riot.txt` 被**原样拷贝**到构建输出的根目录（通常放在 `public/` 或 `static/` 目录）
> - 优先用纯静态方式发布 `riot.txt` / `privacy.html` / `terms.html`（直接放仓库根目录），不要让这些文件走框架路由，框架/构建升级最容易把它们搞丢
>
> **OG 标签注意事项**：
> - 必需标签：`og:title`、`og:description`、`og:image`（推荐 1200×630）、`og:url`、`twitter:card`（值为 `summary_large_image`）
> - `og:image` 的图片地址必须是**可公开直链**，返回 200 OK 且无重定向，否则 Discord / Twitter 等平台无法正确渲染预览卡片
> - OG 标签更新后，用平台的卡片调试器刷新缓存验证（如 Twitter Card Validator），Discord 可删除消息重新粘贴触发重新抓取

### 第 6 步：提交审核
- Overwolf 审核：Clips 和 Live 各提交一次
- Riot 审核：Clips 和 Live 各提交一次，填写对应子域名

## 当前仓库处理（推荐迁移节奏）

> **原则**：审核期间链接变动或失效是大忌，稳妥优先。

1. **新建** ClutchReframe 的两个站点仓库（`clips-website`、`live-website`），按上述步骤部署
2. **旧 RiftReframe 站点先保留**，在页面上加品牌迁移提示 + 新站链接（例如 "RiftReframe 已更名为 ClutchReframe，请访问 …"）
3. **等 Riot 和 Overwolf 审核都通过后**，再归档旧仓库和旧域名
4. **审核期冻结规则**：提交 Riot/Overwolf 审核后，直到通过前——不改 Pages Custom domain 绑定、不改 DNS 记录、不改站点路径结构（`/riot.txt`、`/privacy.html`、`/terms.html` 的 URL 不能变）。内容可更新，URL 结构不动。
5. 现有 `C:\Dev\Website`（RiftReframe 站点）的 OG 标签修改已完成但未推送，可先推送作为过渡期内容

## 验证
- 浏览器直接访问 `https://clips.ClutchReframe.com` 和 `https://live.ClutchReframe.com` 确认页面正常
- 访问 `https://clips.ClutchReframe.com/riot.txt` 确认返回纯文本 UUID
- Discord 粘贴链接确认预览卡片显示正常
